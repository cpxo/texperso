\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{cp-beamer}[2020/11/02 - Classe Beamer v1.0]
% 1.0 Première version

%%-----Packages de base-----
\RequirePackage[french]{babel}
\RequirePackage[utf8]{inputenc}
\RequirePackage{amsmath}
\RequirePackage{amssymb}
\RequirePackage[np]{numprint}
\RequirePackage{mathrsfs}  
\RequirePackage{multicol}
\newcommand\euro{\eurologo{}}

\RequirePackage{fontawesome5}
\RequirePackage{adjustbox}
\RequirePackage{xspace}
\RequirePackage{makeidx}
\RequirePackage{fancybox}
%pour les commandes de pas-math !!
\RequirePackage{esvect}
\RequirePackage{ifthen}
\RequirePackage{stmaryrd}
%back to normal
\RequirePackage{tabularx}
\RequirePackage{multirow}
\RequirePackage{multicol}
\RequirePackage[normalem]{ulem}
\RequirePackage{pifont}
\RequirePackage{mathtools}
%\RequirePackage{textcomp,enumitem}
%\RequirePackage{xcolor}
\RequirePackage{graphicx}
\RequirePackage{cancel}
\RequirePackage{pst-all}
\RequirePackage{pst-eucl}
\RequirePackage{pst-func}
\RequirePackage{epsdice}
\RequirePackage{tikz,tkz-tab}
\usetikzlibrary{automata,positioning}
\RequirePackage{fancyhdr}
%\RequirePackage[np]{numprint}
\RequirePackage{fp}
\RequirePackage{shadowtext}
\RequirePackage{epsdice}
\RequirePackage{units}
\RequirePackage{wasysym}
\RequirePackage{xargs}
\RequirePackage{systeme}
\RequirePackage{venndiagram}
\RequirePackage{ifpdf}
%\RequirePackage{cp-touchescalc}
\RequirePackage{pas-tableur}
\RequirePackage{tcolorbox}
\tcbuselibrary{skins}
\RequirePackage{lastpage}
\RequirePackage{currfile}
\RequirePackage{tabto}
\RequirePackage{tangente}
\RequirePackage{bigstrut}
\RequirePackage{ragged2e}
\ifpdf
	%\RequirePackage[pdftex]{eforms}
	\newcommand\logolycee{$\vcenter{\hbox{\includegraphics[height=0.9\baselineskip]{logo_lycee.png}}}$}
	\newcommand\logopython{$\vcenter{\hbox{\includegraphics[height=0.9\baselineskip]{logopython.png}}}$}
	\newcommand\bindertdsio{\href{http://tdsiou22.cpierquet.fr}{$\vcenter{\hbox{\includegraphics[height=0.8\baselineskip]{tdsiou22v2.png}}}$}}
	\newcommand\bindersio{\href{http://siou22.cpierquet.fr}{$\vcenter{\hbox{\includegraphics[height=0.8\baselineskip]{siou22v2.png}}}$}}
	\newcommand\logosnt{\href{http://snt.cpierquet.fr}{$\vcenter{\hbox{\includegraphics[height=0.8\baselineskip]{snt2gt5.png}}}$}}
	\RequirePackage{hyperref}
\else
	%\RequirePackage[dvips]{eforms}
	\newcommand\logolycee{$\vcenter{\hbox{\includegraphics[height=0.9\baselineskip]{logo_lycee.eps}}}$}
	\newcommand\txtpython{\texttt{python}}
	\newcommand\logopython{$\vcenter{\hbox{\includegraphics[height=0.9\baselineskip]{logopython.eps}}}$}
	\newcommand\bindertdsio{\href{http://tdsiou22.cpierquet.fr}{$\vcenter{\hbox{\includegraphics[height=0.8\baselineskip]{tdsiou22v2.eps}}}$}}
	\newcommand\bindersio{\href{http://siou22.cpierquet.fr}{$\vcenter{\hbox{\includegraphics[height=0.8\baselineskip]{siou22v2.eps}}}$}}
	\newcommand\logosnt{\href{http://snt.cpierquet.fr}{$\vcenter{\hbox{\includegraphics[height=0.8\baselineskip]{snt2gt5.eps}}}$}}
	\RequirePackage[dvips]{hyperref}
\fi
\RequirePackage{lettrine}

\RequirePackage[breakable]{cp-tcbox}

%----pythontex-----
\RequirePackage[rerun=always,gobble=auto]{pythontex}
\newenvironment{consolepython}[1][\linewidth]{%
	\begin{center}
	\begin{minipage}{#1}
	}
	{
	\end{minipage}
	\end{center}
}

\newenvironment{envconsolepython}[1][\linewidth]{%
	\VerbatimEnvironment
	\begin{center}
	\begin{minipage}{#1}
	\begin{pyconsole}[][framesep=3mm,frame=single,label={[\scriptsize Début de la console \logopython]\scriptsize Fin de la console \logopython},fontsize=\footnotesize,framerule=1pt,rulecolor=\color{ForestGreen}]
	}
	{
	\end{pyconsole}
	\end{minipage}
	\end{center}
}

%%-----mirror-----
\newcommand{\mirror}[1]{%
	\raisebox{\depth}{\scalebox{-1}[-1]{\footnotesize \textcolor{ForestGreen}{#1}}}
}

%%-----Logos et formulaires------
% minicalc avec images dans texmf
\newcommand{\minicalc}[2][0.8em]{%
	\raisebox{-0.05em}{\includegraphics[height=#1]{#2}}
}

%%beamer
\newcommand\logossj{\includegraphics[height=2cm]{goku_ssj0}~\includegraphics[height=2cm]{goku_ssj1}~\includegraphics[height=2cm]{goku_ssj2}~\includegraphics[height=2cm]{goku_ssj3}~\includegraphics[height=2cm]{goku_ssj4}~\includegraphics[height=2cm]{goku_ssj5}}

%%-----Maths-----
%\renewcommand\i{\rm{i}} %pour hyperref !
\newcommand\ssi{\Leftrightarrow}
\newcommand\eqv{\Leftrightarrow}
\newcommand\pp{\leqslant}
\newcommand\pg{\geqslant}
\newcommand\courbe[1]{\mathcal{C}_{#1}}
\newcommand\loinorm[3]{#1 \hookrightarrow \mathcallig{N} \left(#2\mathpunct{};\mathpunct{}#3\right)}
\newcommand\binomiale[2]{\mathcallig{B} \left(#1\mathpunct{};\mathpunct{}#2\right)}
\newcommand\loibinom[3]{#1 \hookrightarrow \mathcallig{B} \left(#2\mathpunct{};\mathpunct{}#3\right)}
\newcommand\normale[2]{\mathcallig{N} \left(#1\mathpunct{};\mathpunct{}#2\right)}
\newcommand\suiten[1][u]{\left( #1_n \right)}
\newcommand\suiteun{\left( u_n \right)}
\newcommand\suitevn{\left( v_n \right)}
\newcommand\matdeux[4]{\begin{pmatrix} #1 & #2 \\ #3 & #4 \end{pmatrix}}
\newcommand\etprob[2]{\begin{pmatrix} #1 & #2 \end{pmatrix}}
\newcommand\coordpl[2]{\left(#1\mathpunct{};#2\right)}
\newcommand\coordes[3]{\left(#1\mathpunct{};#2\mathpunct{};#3\right)}
\newcommand\coordeux[2]{\begin{pmatrix} #1 \\ #2 \end{pmatrix}}
\newcommand\coordve[3]{\begin{pmatrix} #1 \\ #2 \\ #3 \end{pmatrix}}
\newcommand\vect[1]{\vv{#1}}
\newcommand\vekt[1]{\overrightarrow{#1}}
\newcommand\mclp[2]{\underset{\mathclap{#2}}{#1}}

%%-----Styles personnels et mise en page-----
\newcommand\lycee{Lycée Edmé Bouchardon}
\DecimalMathComma
\definecolor{marron}{rgb}{0.64,0.16,0.16}
\definecolor{titrebleu}{rgb}{0,0,0.6}
%\frenchbsetup{StandardLists=true}
\setlength{\parindent}{0pt}

% lignes, pointillés
\newcommand\lignetitre{{\color{titrebleu}\hrule height1.1pt}}
\newcommand\lignetitrenoire{{\hrule height1.1pt}}
\newcommand\pointille[1][1cm]{\makebox[#1]{\dotfill}}
\newcommand\ecartp{$\vphantom{A^{2^2}A_{2_2}}$}
\newcommand\ecartg{$\vphantom{\left(\dfrac{A^{2^2}}{A_{2_2}}\right)}$}

% mises en forme
\newcommand\nomprenom{\begin{Large} \texttt{NOM : \dotfill Prénom : \dotfill} \end{Large}}
\newcommand\espacetab{\vspace{-0.25cm}}
\newcommand\tabula{\hspace{5mm}}
\newcommand\decalt{\hspace*{4ex}}
\newcommand\espacepara{\vspace{-0.25cm}}
\newcommand\espacetitre{\vspace{-0.5cm}}
\newcommand\ptno[1]{\textbf{\textcolor{red}{#1.}}}
\newcommand\pta[1]{\textbf{\textcolor{blue}{#1.}}}
\newcommand\pti[1]{\textbf{\textcolor{ForestGreen}{#1.}}}
\newcommand\entete[1]{{\textcolor{BlueViolet}{\scriptsize #1}}}
\newcommand\pied[1]{{\textcolor{BlueViolet}{\scriptsize #1}}}

% qcm
\newcommand\qcm[4]{
	\begin{tabularx}{\linewidth}{XXXX}
	\pta{a}~~#1 & \pta{b}~~#2 & \pta{c}~~#3 & \pta{d}~~#4 \\
	\end{tabularx}}
\newcommand\qcmdeux[4]{
	\begin{tabularx}{\linewidth}{XX}
	\pta{a}~~#1 & \pta{b}~~#2 \\ \pta{c}~~#3 & \pta{d}~~#4 \\
	\end{tabularx}}
\newcommand\qcmtrois[3]{
	\begin{tabularx}{\linewidth}{XXX}
	\pta{a}~~#1 & \pta{b}~~#2 & \pta{c}~~#3 \\
	\end{tabularx}}

\newcommand\sfbmath[1]{%
	\boldmath$\mathsf{#1}$\unboldmath}

\newcommand\titrexo[1]{{\Large \textcolor{titrebleu}{\textbf{#1}}}}
\newcommand\titrexercice[1]{{\fontfamily{phv} \LARGE \textcolor{titrebleu}{#1}}}
\newcommand\titrepage[1]{\begin{center} {\fontfamily{pbk} {\textcolor{marron}{\Huge #1}}} \end{center}}
\newcommand\soustitre[1]{\begin{center} {\textbf{\textcolor{Orchid}{\LARGE #1}}} \end{center}}

%commande titre (taille diminuée si option [petit])
\newcommand\grandtitre[2][]{
	\ifthenelse{\equal{#1}{petit}}%
	{\begin{center} {\textsc{\textcolor{marron}{\huge \textbf{#2}}}} \end{center}}%
	{\begin{center} {\textsc{\textcolor{marron}{\Huge \textbf{#2}}}} \end{center}}
}

% commandes puces normal ou [dense] ou [exam]
%\setitemize[0]{noitemsep,topsep=1pt,itemsep=1pt}
%\setenumerate[1]{font=\color{red}\bfseries}
%\setenumerate[2]{font=\color{blue}\bfseries, label=\alph*.}
%\setenumerate[3]{font=\color{ForestGreen}\bfseries, label=\roman*.}

\newcommand\niveaudif[1]{$\vcenter{\hbox{\includegraphics[height=18pt]{goku_ssj#1}}}$}

%tikz
\usetikzlibrary{decorations.pathreplacing}
\usetikzlibrary{decorations.markings}
\usetikzlibrary{arrows.meta}

\tikzset{arrowinside/.style 2 args={postaction={decorate},decoration={markings,mark=at position #1 with {\arrow[scale=#2]{>}}}}}

\newcommand\tunits[2]{%
	\def\xunit{#1}\def\yunit{#2}
}

\newcommand\tdefgrille[8]{%
	\def\xmin{#1}\def\xmax{#2}\def\ymin{#5}\def\ymax{#6}
	\def\xgrille{#3}\def\xgrilles{#4}\def\ygrille{#7}\def\ygrilles{#8}
	\pgfmathsetmacro{\xgp}{(\xunit*\xgrille)}
	\pgfmathsetmacro{\xgs}{(\xunit*\xgrilles)}
	\pgfmathsetmacro{\ygp}{(\yunit*\ygrille)}
	\pgfmathsetmacro{\ygs}{(\yunit*\ygrilles)}
}

\newcommand\tgrilles[1][ultra thin,lightgray]{%
%	\draw[xstep=\xgs cm,ystep=\ygs cm,#1] (\xmin,\ymin) grid (\xmax,\ymax)
	\draw[xstep=\xgrilles,ystep=\ygrilles,#1] (\xmin,\ymin) grid (\xmax,\ymax)
}
\newcommand\tgrillep[1][thin,gray]{%
%	\draw[xstep=\xgp cm,ystep=\ygp cm,#1] (\xmin,\ymin) grid (\xmax,\ymax)
	\draw[xstep=\xgrille,ystep=\ygrille,#1] (\xmin,\ymin) grid (\xmax,\ymax)
}

% ========= DEF DES CLES AXES =========
\define@key{tikzaxex}{Ox}{\def\axex@Ox{#1}}
\define@key{tikzaxex}{width}{\def\axex@width{#1}}
\define@key{tikzaxex}{size}{\def\axex@size{#1}}

\define@key{tikzaxey}{Oy}{\def\axey@Oy{#1}}
\define@key{tikzaxey}{width}{\def\axey@width{#1}}
\define@key{tikzaxey}{size}{\def\axey@size{#1}}

\define@key{tikzaxes}{width}{\def\axes@width{#1}}
\define@key{tikzaxes}{labelx}{\def\axes@labelx{#1}}
\define@key{tikzaxes}{labely}{\def\axes@labely{#1}}
\define@key{tikzaxes}{poslabelx}{\def\axes@poslabelx{#1}}
\define@key{tikzaxes}{poslabely}{\def\axes@poslabely{#1}}
\define@key{tikzaxes}{echellefleche}{\def\axes@echellefleche{#1}}
\define@key{tikzaxes}{typefleche}{\def\axes@typefleche{#1}}

% ========= CLES PAR DEFAUT =========
\setkeys{tikzaxex}{Ox=0,width=1.25pt,size=\normalsize}
\setkeys{tikzaxey}{Oy=0,width=1.25pt,size=\normalsize}
\setkeys{tikzaxes}{width=1.25pt,labelx=,labely=,poslabelx=right,poslabely=above,echellefleche=1,typefleche=>}

% ========= COMMANDES AXES ==========
\newcommand\axextikz[2][]{%
	\setkeys{tikzaxex}{#1}% on paramètres les nouvelles clés
	\foreach \x in {#2}
		%\FPeval{xcal}{(\x-\axex@Ox)}
		\draw[line width=\axex@width] (\x-\axex@Ox,4pt) -- (\x-\axex@Ox,-4pt) node[below] {\axex@size \np{\x}}
}

\newcommand{\axeytikz}[2][]{%
	\setkeys{tikzaxey}{#1}% on paramètres les nouvelles clés
	\foreach \y in {#2}
		%\FPeval{ycal}{(\y-\axey@Oy)}
		\draw[line width=\axey@width] (4pt,\y-\axey@Oy) -- (-4pt,\y-\axey@Oy) node[left] {\axey@size \np{\y}}
}

\newcommand\axestikz{\@ifstar{\axestikz@star}{\axestikz@nostar}}

\newcommand\axestikz@nostar[1][]{%
	\setkeys{tikzaxes}{#1}% on paramètres les nouvelles clés
	\draw[line width=\axes@width,-{\axes@typefleche[scale=\axes@echellefleche]}] (\xmin,0) -- (\xmax,0) node[\axes@poslabelx] {\axes@labelx} ;
	\draw[line width=\axes@width,-{\axes@typefleche[scale=\axes@echellefleche]}] (0,\ymin) -- (0,\ymax) node[\axes@poslabely] {\axes@labely}
}

\newcommand\axestikz@star[1][]{%
	\setkeys{tikzaxes}{#1}% on paramètres les nouvelles clés
	\draw[line width=\axes@width,-{\axes@typefleche[scale=\axes@echellefleche]}] (\xmin,0) -- (\xmax,0) ;
	\draw[line width=\axes@width,-{\axes@typefleche[scale=\axes@echellefleche]}] (0,\ymin) -- (0,\ymax)
}

\newcommand\tcoord[3][line width=1pt,dashed,ForestGreen,arrowinside={0.5}{1.5}]{%
	\draw[#1] (#2,0) -- (#2,#3) ;
	\draw[#1] (#2,#3) -- (0,#3) ;
}

\def\pgfpointnormalised#1{%
	\pgf@process{#1}%
	\pgfmathatantwo{\the\pgf@y}{\the\pgf@x}%
	\let\pgf@tmp=\pgfmathresult%
	\pgfmathcos@{\pgf@tmp}\pgf@x=\pgfmathresult pt\relax%
	\pgfmathsin@{\pgf@tmp}\pgf@y=\pgfmathresult pt\relax%
}

% karnaugh
\usepackage{xargs}
\usetikzlibrary{patterns,arrows,decorations.pathreplacing}
\newcommandx\karnaughd[2][1=a,2=b]{%
	\draw[thick] (0,0) rectangle (2,2);
	\draw[thick] (0,1)--(2,1);
	\draw[thick] (1,0)--(1,2);
	\node at (-0.33,0.5) {$\strut\overline{\tt {#1}}$};
	\node at (-0.33,1.5) {$\strut \tt {#1}$};
	\node at (0.5,2.33) {$\strut \tt {#2}$};
	\node at (1.5,2.33) {$\strut\overline{\tt {#2}}$};
}
\newcommand{\karnaughnoeuds}{
	%NŒUDS
	\clip(-0.5,-0.65) rectangle (4,2.76);
	\node[] (A00) at (0,0) {};
	\node[] (A10) at (1,0) {};
	\node[] (A20) at (2,0) {};
	\node[] (A30) at (3,0) {};
	\node[] (A40) at (4,0) {};
	\node[] (A01) at (0,1) {};
	\node[] (A11) at (1,1) {};
	\node[] (A21) at (2,1) {};
	\node[] (A31) at (3,1) {};
	\node[] (A41) at (4,1) {};
	\node[] (A02) at (0,2) {};
	\node[] (A12) at (1,2) {};
	\node[] (A22) at (2,2) {};
	\node[] (A32) at (3,2) {};
	\node[] (A42) at (4,2) {};
}
\newcommand\bundlec[6]{%
	\draw[rounded corners,line width=1.25pt,color=#5] ($(A#1#2)+(#6,#6)$) rectangle ($(A#3#4)-(#6,#6)$) {};
}
\newcommand\bundleog[6]{%
	\draw[rounded corners,line width=1.25pt,color=#5] ($(A#1#2)+(#6,#6)$) -- ($(A#3#2)+(-#6,#6)$) -- ($(A#3#4)+(-#6,-#6)$) -- ($(A#1#4)+(#6,-#6)$) {};
}
\newcommand\bundleod[6]{%
	\draw[rounded corners,line width=1.25pt,color=#5] ($(A#1#2)+(-#6,#6)$) -- ($(A#3#2)+(#6,#6)$) -- ($(A#3#4)+(#6,-#6)$) -- ($(A#1#4)+(-#6,-#6)$) {};
}
\newcommandx\karnaught[3][1=a,2=b,3=c]{%
	\draw[thick] (0,0) rectangle (4,2);
	\draw[thick] (0,1)--(4,1);
	\draw[thick] (1,0)--(1,2);
	\draw[thick] (2,0)--(2,2);
	\draw[thick] (3,0)--(3,2);
	\draw[thick,decorate,decoration={brace,amplitude=5pt}](0,2.05)--(2,2.05) node {};
	\draw[thick,decorate,decoration={brace,amplitude=5pt}](2,2.05)--(4,2.05) node {};
	\draw[thick,decorate,decoration={brace,amplitude=5pt,mirror}](1,-0.05)--(3,-0.05) node {};
	\node at (-0.33,0.5) {$\strut\overline{\tt #1}$};
	\node at (-0.33,1.5) {$\strut \tt #1$};
	\node at (1,2.5) {$\strut \tt #2$};
	\node at (3,2.5) {$\strut\overline{\tt #2}$};
	\node at (0.5,-0.54) {$\strut \tt #3$};
	\node at (3.5,-0.54) {$\strut \tt #3$};
	\node at (2,-0.54) {$\strut \overline{\tt #3}$};
}

%MPM TiKZ BASIQUE SOMMETS

\newcommand\mpmtbase[3]{%
	\FPeval{\Larg}{2.5*\larg}
	\node[inner sep = 0] (#3) at (#1,#2) {%
		\begin{tabular}{|C{\Larg cm}|}
			\hline
			{\scriptsize \sf \textbf{#3}} \\ \hline
	\end{tabular}};
}

\newcommand\mpmtdeb[5]{%
	\node[inner sep = 0] (#3) at (#1,#2) {%
		\begin{tabular}{|C{\larg cm}|C{\larg cm}|}
			\hline
			\multicolumn{2}{|c|}{{\scriptsize \sf \textbf{Début}}} \\ \hline
			{\scriptsize \sf #4}&{\scriptsize \sf #5} \\ \hline
	\end{tabular}};
}

\newcommand\mpmtsom[6]{%
	\node[inner sep = 0] (#3) at (#1,#2) {%
		\begin{tabular}{|C{\larg cm}|C{\larg cm}|}
			\hline
			\multicolumn{2}{|c|}{{\scriptsize \sf \textbf{#4}}} \\ \hline
			{\scriptsize \sf #5}&{\scriptsize \sf #6}\\ \hline
	\end{tabular}};
}

\newcommand\mpmtfin[5]{%
	\node[inner sep = 0] (#3) at (#1,#2) {%
		\begin{tabular}{|C{\larg cm}|C{\larg cm}|}
			\hline
			\multicolumn{2}{|c|}{{\scriptsize \sf \textbf{Fin}}} \\ \hline
			{\scriptsize \sf #4}&{\scriptsize \sf #5}\\ \hline
	\end{tabular}};
}

\newcommand\mpmtnotice[2]{%
	\node[inner sep = 0] (Ntce) at (#1,#2) {%
		\begin{tabular}{|C{\larg cm}|C{\larg cm}|}
			\multicolumn{2}{c}{{\small \sf \textcolor{violet}{\textbf{Aide}}}} \\ \hline
			\multicolumn{2}{|c|}{{\scriptsize \sf \textbf{Som.}}} \\ \hline
			{\scriptsize \sf t}&{\scriptsize \sf T}\\ \hline
	\end{tabular}};
}

%MPM TiKZ COMPLET SOMMETS
\newcommand\mpmtnoticec[2]{%
	\node[inner sep = 0] (Ntce) at (#1,#2) {%
		\begin{tabular}{|C{\larg cm}|C{\larg cm}|}
			\multicolumn{2}{c}{{\small \sf \textcolor{violet}{\textbf{Aide}}}} \\ \hline
			\multicolumn{2}{|c|}{{\scriptsize \sf \textbf{Sommet}}} \\ \hline
			{\scriptsize \sf t}&{\scriptsize \sf T}\\ \hline
			{\scriptsize \sf MT}&{\scriptsize \sf ML} \\ \hline
	\end{tabular}};
}

\newcommand\mpmtsomc[8]{%
	\node[inner sep = 0] (#3) at (#1,#2) {%
		\begin{tabular}{|C{\larg cm}|C{\larg cm}|}
			\hline
			\multicolumn{2}{|c|}{{\scriptsize \sf \textbf{#4}}} \\ \hline
			{\scriptsize \sf #5}&{\scriptsize \sf #6}\\ \hline
			{\scriptsize \sf #7}&{\scriptsize \sf #8} \\ \hline
	\end{tabular}};
}

%MPM TiKZ ARCS
\newcommand\arcts[4][midway]{%
	\draw[line width=1pt,blue,->,>= stealth'] (#2) -- (#3) node[#1,fill=white]{\footnotesize \sf \red #4};
}

\newcommand\arctangle[5][near start]{%
	%\ncangle[linewidth=1pt,#4]{->}{#1}{#2}\ncput*[npos=]{\footnotesize \sf \red #3}
	\draw[->,>=stealth',line width=1pt,blue] (#3) #2 (#4) node[#1,fill=white] {\footnotesize \red \sf #5};
}

\newcommand\arctangles[6][midway]{%
	\draw[->,>=stealth',line width=1pt,blue] (#2) -- (#3) -- (#4) node[#1,fill=white] {\footnotesize \red \sf #6} -- (#5);
}

%MPM PSTRiCKS
\newcommand\mpmdeb[5]{%
	\psnode(#1,#2){#3}{%
	\begin{tabular}{|C{\larg cm}|C{\larg cm}|}
		\hline
		\multicolumn{2}{|c|}{{\scriptsize \sf \textbf{Début}}} \\ \hline
		{\scriptsize \sf #4}&{\scriptsize \sf #5}\\ \hline
	\end{tabular}}
}
\newcommand\mpmfin[5]{%
	\psnode(#1,#2){#3}{%
	\begin{tabular}{|C{\larg cm}|C{\larg cm}|}
		\hline
		\multicolumn{2}{|c|}{{\scriptsize \sf \textbf{Fin}}} \\ \hline
		{\scriptsize \sf #4}&{\scriptsize \sf #5}\\ \hline
	\end{tabular}}
}
\newcommand\mpmsom[8]{%
	\psnode(#1,#2){#3}{%
	\begin{tabular}{|C{\larg cm}|C{\larg cm}|}
		\hline
		\multicolumn{2}{|c|}{{\scriptsize \sf \textbf{#4}}} \\ \hline
		{\scriptsize \sf #5}&{\scriptsize \sf #6}\\ \hline
		{\scriptsize \sf #7}&{\scriptsize \sf #8} \\ \hline
	\end{tabular}}
}
\newcommand\mpmsoms[6]{%
	\psnode(#1,#2){#3}{%
	\begin{tabular}{|C{\larg cm}|C{\larg cm}|}
		\hline
		\multicolumn{2}{|c|}{{\scriptsize \sf \textbf{#4}}} \\ \hline
		{\scriptsize \sf #5}&{\scriptsize \sf #6}\\ \hline
	\end{tabular}}
}
\newcommand\mpmbase[3]{%
	\FPeval{\Larg}{2.5*\larg}
	\psnode(#1,#2){#3}{%
	\begin{tabular}{|C{\Larg cm}|}
		\hline
		{\scriptsize \sf \textbf{#3}} \\ \hline
	\end{tabular}}
}
\newcommand\mpmnotice[2]{%
	\psnode(#1,#2){Ntce}{%
	\begin{tabular}{|C{\larg cm}|C{\larg cm}|}
		\multicolumn{2}{c}{{\small \sf \textcolor{violet}{\textbf{Aide}}}} \\ \hline
		\multicolumn{2}{|c|}{{\scriptsize \sf \textbf{Sommet}}} \\ \hline
		{\scriptsize \sf t}&{\scriptsize \sf T}\\ \hline
		{\scriptsize \sf MT}&{\scriptsize \sf ML} \\ \hline
	\end{tabular}}
}
\newcommand\mpmnotices[2]{%
	\psnode(#1,#2){Ntc}{%
	\begin{tabular}{|C{\larg cm}|C{\larg cm}|}
		\multicolumn{2}{c}{{\small \sf \textcolor{violet}{\textbf{Aide}}}} \\ \hline
		\multicolumn{2}{|c|}{{\scriptsize \sf \textbf{Som.}}} \\ \hline
		{\scriptsize \sf t}&{\scriptsize \sf T}\\ \hline
	\end{tabular}}
}
\newcommand\arcs[3]{%
	\ncline[linewidth=1pt]{->}{#1}{#2}\ncput*{\footnotesize \sf \red #3}
}
\newcommand\arcspos[4]{%
	\ncline[linewidth=1pt]{->}{#1}{#2}\ncput*[npos=#4]{\footnotesize \sf \red #3}
}
\newcommand\arcangle[4]{%
	\ncangle[linewidth=1pt,#4]{->}{#1}{#2}\ncput*[npos=]{\footnotesize \sf \red #3}
}
\newcommand\arcanglepos[5]{%
	\ncangle[linewidth=1pt,#4]{->}{#1}{#2}\ncput*[npos=#5]{\footnotesize \sf \red #3}
}

% tableaux
\newcolumntype{R}[1]{>{\raggedleft\arraybackslash }b{#1}} 
\newcolumntype{L}[1]{>{\raggedright\arraybackslash }b{#1}}
\newcolumntype{C}[1]{>{\centering\arraybackslash }b{#1}}
\newcolumntype{M}[1]{>{\centering\arraybackslash }m{#1}} %doublecentrée
\renewcommand{\tabularxcolumn}[1]{m{#1}}
\newcolumntype{Y}{>{\centering\arraybackslash }X}

% styles pstricks tikz
\newcommand\point[1]{\Large \textsf{#1}}
\newcommand\ppoint[1]{\large \textsf{#1}}
\newcommand\graphpt[1]{(\textcolor{#1}{$\CIRCLE$})}
\newcommand\graphlg[1]{(\textcolor{#1}{\boldmath$-\:-$\unboldmath})}

% commande "étoilé" notice tikz (pontillé/point)
\newcommand\noticetikz{\@ifstar{\noticetkz@star}{\noticetkz@nostar}}

\newcommand\noticetkz@star[1]{%
	$\vcenter{\hbox{\begin{tikzpicture}\draw[color=#1,very thick,densely dashed](0,0)--(0.57,0);\filldraw[fill=#1,draw=#1,thick] (0.57,0) circle (3pt);\end{tikzpicture}}}$
}
\newcommand\noticetkz@nostar[1]{%
	$\vcenter{\hbox{\begin{tikzpicture}\draw[color=#1,very thick,densely dashed](0,0)--(0.57,0);\filldraw[fill=white,draw=#1,thick] (0.57,0) circle (3pt);\end{tikzpicture}}}$
}

\newcommand\noticetikzf[1]{%
	$\vcenter{\hbox{\begin{tikzpicture}\draw[color=#1,thick,<->](0,0)--(0.65,0);\end{tikzpicture}}}$
}

% styles pas-tableur
\definecolor{graySepCell}{cmyk}{0,0,0,0.75}
\newcommand\celcolor[2]{\draw[draw=none,fill=lightgray] ($(cell#1-#2.south west)+(0.2pt,0.2pt)$) -- ($(cell#1-#2.south east) + (-0.2pt,0.2pt)$) -- ($(cell#1-#2.north east) + (-0.2pt,-0.2pt)$) -- ($(cell#1-#2.north west) + (0.2pt,-0.2pt)$) -- cycle;}
\newcommand\celtxtmulti[4]{\draw (cell#1-#2.center) node [align=center,text width=#3]{#4};}
\newcommand\celtxtlmulti[4]{\draw (cell#1-#2.center) node [align=left,text width=#3]{#4};}
\newcommand\celfusion[4]{\draw[draw=none,fill=white] ($(cell#1-#2.south west)+(0.2pt,0.2pt)$) rectangle ($(cell#3-#4.north east) + (-0.2pt,-0.2pt)$);}
\newcommand\celnum[3]{%
	\def\numpointilles{#1}
	\FPeval{numavant}{clip(\numpointilles-1)}
	\def\numdebut{#2}
	\def\numfin{#3}
	\foreach \num@line [remember=\num@line as \lastnum (initially \numavant)] in {\numpointilles}
		{%
			\pastab@draw@cell{\numline@width}{numline\num@line}{3}{numline\lastnum.south east}{\dots}%
		}%
	\foreach \num@line [remember=\num@line as \lastnum (initially \numpointilles)] in {\numdebut,\numfin}
		{%
			\pastab@draw@cell{\numline@width}{numline\num@line}{3}{numline\lastnum.south east}{\num@line}%
		}%
}

% styles grille pstricks
\newcommand\defgrille[8]{%
	\def\xmin{#1}\def\xmax{#2}\def\ymin{#5}\def\ymax{#6}%
	\def\pasx{#3}\def\passx{#4}\def\pasy{#7}\def\passy{#8}%
	\FPeval{nbsx}{clip((\xmax-\xmin)/(\passx)+1)}\FPeval{nbsy}{clip((\ymax-\ymin)/(\passy)+1)}%
	\FPeval{nbx}{clip((\xmax-\xmin)/(\pasx)+1)}\FPeval{nby}{clip((\ymax-\ymin)/(\pasy)+1)}%
}

\newcommand\grilles[1]{%
	\multido{\n=\xmin+\passx}{\nbsx}{\psline[#1](\n,\ymin)(\n,\ymax)}%
	\multido{\n=\ymin+\passy}{\nbsy}{\psline[#1](\xmin,\n)(\xmax,\n)}
}

\newcommand\grillep[1]{%
	\multido{\n=\xmin+\pasx}{\nbx}{\psline[#1](\n,\ymin)(\n,\ymax)}
	\multido{\n=\ymin+\pasy}{\nby}{\psline[#1](\xmin,\n)(\xmax,\n)}
}

% cartes poker avec images dans texmf
\newcommand\poker[2]{%
	\includegraphics[width={#2}cm]{#1}
}

% commande tabul avec nb espacements [5mm]
\newlength{\esptabul}
\newcommand\tabulat[1][1]{%
	\FPeval{\espt}{#1*5}
	\setlength{\esptabul}{{\espt}mm}
	\hspace{\esptabul}}

% commandes venant de pas-math
% Intervalles & ensembles
% [a;b]
\ifthenelse{\isundefined{\intervFF}}
	{\newcommand*\intervFF[2]{\mbox{\ensuremath{\left[#1\mathpunct{};#2\right]}}}}
	{\renewcommand*\intervFF[2]{\mbox{\ensuremath{\left[#1\mathpunct{};#2\right]}}}\typeout{La commande \string\intervFF\space a deja ete redefinie.}}

% [a,b[
\ifthenelse{\isundefined{\intervFO}}
	{\newcommand*\intervFO[2]{\mbox{\ensuremath{\left[#1\mathpunct{};#2\right[}}}}
	{\renewcommand*\intervFO[2]{\mbox{\ensuremath{\left[#1\mathpunct{};#2\right[}}}\typeout{La commande \string\intervFO\space a deja ete redefinie.}}

% ]a;b]
\ifthenelse{\isundefined{\intervOF}}
	{\newcommand*\intervOF[2]{\mbox{\ensuremath{\left]#1\mathpunct{};#2\right]}}}}
	{\renewcommand*\intervOF[2]{\mbox{\ensuremath{\left]#1\mathpunct{};#2\right]}}}\typeout{La commande \string\intervOF\space a deja ete redefinie.}}

% ]a,b[
\ifthenelse{\isundefined{\intervOO}}
	{\newcommand*\intervOO[2]{\mbox{\ensuremath{\left]#1\mathpunct{};#2\right[}}}}
	{\renewcommand*\intervOO[2]{\mbox{\ensuremath{\left]#1\mathpunct{};#2\right[}}}\typeout{La commande \string\intervOO\space a deja ete redefinie.}}

% llbracket, rrbracket
\ifthenelse{\isundefined{\entInterv}}
	{\newcommand*\entInterv[2]{\ensuremath{\left\llbracket#1\mathpunct{};#2\right\rrbracket}}}
	{\renewcommand*\entInterv[2]{\ensuremath{\left\llbracket#1\mathpunct{};#2\right\rrbracket}\typeout{La commande \string\intInterv\space a ete redefinie par pas-math.}}}

% Ensembles N, Z, D, R, C, Q
\ifthenelse{\isundefined{\N}}
	{\newcommand*\N{\@ifstar{\n@star}{\n@nostar}}}
	{\renewcommand*\N{\@ifstar{\n@star}{\n@nostar}}\typeout{La commande \string\N\space a ete redefinie par pas-math.}}
	\newcommand*{\n@nostar}{\ensuremath{\mathbb{N}}\xspace}
	\newcommand*{\n@star}{\ensuremath{\mathbb{N}^{*}}\xspace}

\ifthenelse{\isundefined{\Z}}
	{\newcommand*{\Z}{\@ifstar{\z@star}{\z@nostar}}}
	{\renewcommand*{\Z}{\@ifstar{\z@star}{\z@nostar}}\typeout{La commande \string\Z\space a ete redefinie par pas-math.}}
	\newcommand*{\z@nostar}{\ensuremath{\mathbb{Z}}\xspace}
	\newcommand*{\z@star}{\ensuremath{\mathbb{Z}^{*}}\xspace}

\ifthenelse{\isundefined{\D}}
	{\newcommand*{\D}{\@ifstar{\d@star}{\d@nostar}}}
	{\renewcommand*{\D}{\@ifstar{\d@star}{\d@nostar}}\typeout{La commande \string\D\space a ete redefinie par pas-math.}}
	\newcommand*{\d@nostar}{\ensuremath{\mathbb{D}}\xspace}
	\newcommand*{\d@star}{\ensuremath{\mathbb{D}^{*}}\xspace}

\ifthenelse{\isundefined{\Q}}
	{\newcommand*{\Q}{\@ifstar{\q@star}{\q@nostar}}}
	{\renewcommand*{\Q}{\@ifstar{\q@star}{\q@nostar}}\typeout{La commande \string\Q\space a ete redefinie par pas-math.}}
	\newcommand*{\q@nostar}{\ensuremath{\mathbb{Q}}\xspace}
	\newcommand*{\q@star}{\ensuremath{\mathbb{Q}^{*}}\xspace}

\ifthenelse{\isundefined{\R}}
	{\newcommand*{\R}{\@ifstar{\r@star}{\r@nostar}}}
	{\renewcommand*{\R}{\@ifstar{\r@star}{\r@nostar}}\typeout{La commande \string\R\space a ete redefinie par pas-math.}}
	\newcommand*{\r@nostar}{\ensuremath{\mathbb{R}}\xspace}
	\newcommand*{\r@star}{\ensuremath{\mathbb{R}^{*}}\xspace}

\ifthenelse{\isundefined{\C}}
	{\newcommand*{\C}{\@ifstar{\c@star}{\c@nostar}}}
	{\renewcommand*{\C}{\@ifstar{\c@star}{\c@nostar}}\typeout{La commande \string\C\space a ete redefinie par pas-math.}}
	\newcommand*{\c@nostar}{\ensuremath{\mathbb{C}}\xspace}
	\newcommand*{\c@star}{\ensuremath{\mathbb{C}^{*}}\xspace}

\ifthenelse{\isundefined{\H}}
	{\newcommand*{\H}{\@ifstar{\h@star}{\h@nostar}}}
	{\renewcommand*{\H}{\@ifstar{\h@star}{\h@nostar}}\typeout{La commande \string\H\space a ete redefinie par pas-math.}}
	\newcommand*{\h@nostar}{\ensuremath{\mathbb{H}}\xspace}
	\newcommand*{\h@star}{\ensuremath{\mathbb{H}^{*}}\xspace}

% Repères et analyse fonctionnelle

% Repère (O;i,j)
\ifthenelse{\isundefined{\Rij}}
	{\newcommand*\Rij[1][O]{\ensuremath{\left(\mathrm{#1}\mathpunct{};\vv{\imath}\mathpunct{},\vv{\jmath} \right)}}}
	{\renewcommand*\Rij[1][O]{\ensuremath{\left(\mathrm{#1}\mathpunct{};\vv{\imath}\mathpunct{},\vv{\jmath} \right)}}\typeout{La commande \string\Rij\space a ete redefinie par pas-math.}}

% Repère (O;i,j,k)
\newcommand\pas@Rijk[1]{%
	\begingroup	\setbox0\hbox{$\vcenter{\hbox{$\mathrm{#1}\mathpunct{};\vv{\imath}\mathpunct{},\vv{\jmath}\mathpunct{},\vv{k}$}}$}%
	\setbox1\hbox{$\mathrm{#1}\mathpunct{};\vv{\imath}\mathpunct{},\vv{\jmath}\mathpunct{},\vv{k}$}%
	\leavevmode\raise\dimexpr\dp0-\dp1\relax%
	\hbox{$\left(\box0 \right)$}%
	\endgroup
}
\ifthenelse{\isundefined{\Rijk}}	
	{\newcommand*\Rijk[1][O]{\pas@Rijk{#1}}}
	{\renewcommand*\Rijk[1][O]{\pas@Rijk{#1}}\typeout{La commande \string\Rijk\space a ete redefinie par pas-math.}}

% Repère (O;u,v)
\ifthenelse{\isundefined{\Ruv}}	
	{\newcommand*\Ruv[1][O]{\ensuremath{\left(\mathrm{O}\mathpunct{};\vv{u}\mathpunct{},\vv{v} \right)}}}
	{\renewcommand*\Ruv[1][O]{\ensuremath{\left(\mathrm{O}\mathpunct{};\vv{u}\mathpunct{},\vv{v} \right)}}\typeout{La commande \string\Ruv\space a ete redefinie par pas-math.}}

% dx
\ifthenelse{\isundefined{\dx}}		
	{\newcommand*\dx[1][x]{\ensuremath{~\text{d}#1}}}
	{\renewcommand*\dx[1][x]{\ensuremath{~\text{d}#1}}\typeout{La commande \string\dx\space a ete redefinie par pas-math.}}

% dint
\ifthenelse{\isundefined{\dint}}	 
	{\newcommand*\dint{\displaystyle\int}}
	{\renewcommand*\dint{\displaystyle\int}\typeout{La commande \string\dint\space a ete redefinie par pas-math.}}

\ifthenelse{\isundefined{\e}}
	{\newcommand*\e{{\rm e}}}
	{\renewcommand*\e{{\rm e}}\typeout{La commande \string\e\space a ete redefinie par pas-math.}}

\ifthenelse{\isundefined{\j}}
	{\newcommand*\j{{\rm j}}}
	{\renewcommand*\j{{\rm j}}\typeout{La commande \string\j\space a ete redefinie par pas-math.}}

\ifthenelse{\isundefined{\jexp}}
	{\newcommand*\jexp{\ensuremath{\e^{\i\frac{\pi}{3}}}}}
	{\renewcommand*\jexp{\ensuremath{\e^{\i\frac{\pi}{3}}}}\typeout{La commande \string\jexp\space a ete redefinie par pas-math.}}

\ifthenelse{\isundefined{\jalg}}
	{\newcommand*\jalg{\ensuremath{\frac{1}{2}+\i\frac{\sqrt{3}}{2}}}}
	{\renewcommand*\jalg{\ensuremath{\frac{1}{2}+\i\frac{\sqrt{3}}{2}}}\typeout{La commande \string\jalg\space a ete redefinie par pas-math.}}

% probas
\ifthenelse{\isundefined{\esp}}
	{\newcommand*\esp[2][\mathbb{E}]{\ensuremath{#1\left({#2}\right)}}}
	{\renewcommand*\esp[2][\mathbb{E}]{\ensuremath{#1\left({#2}\right)}}\typeout{La commande \string\esp\space a ete redefinie par pas-math.}}

\ifthenelse{\isundefined{\var}}
	{\newcommand*\var[2][\mathbb{V}]{\ensuremath{#1\left({#2}\right)}}}
	{\renewcommand*\var[2][\mathbb{V}]{\ensuremath{#1\left({#2}\right)}}\typeout{La commande \string\var\space a ete redefinie par pas-math.}}

\ifthenelse{\isundefined{\ectype}}
	{\newcommand*\ectype[1]{\ensuremath{\sigma\left({#1}\right)}}}
	{\renewcommand*\ectype[1]{\ensuremath{\sigma\left({#1}\right)}}\typeout{La commande \string\ectype\space a ete redefinie par pas-math.}}

\endinput